@media (max-width: 768px) {
    .btn-mobile-enhanced {
        min-height: 48px !important;
        padding: 12px 16px !important;
        font-size: 16px !important;
        border-radius: 8px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 8px !important;
        transition: all 0.2s ease !important;
    }
    
    .btn-mobile-enhanced:active {
        transform: scale(0.98) !important;
        background-color: rgba(0,0,0,0.1) !important;
    }
    
    .fab-create-note {
        position: fixed !important;
        bottom: 90px !important;
        right: 20px !important;
        width: 48px !important;
        height: 48px !important;
        border-radius: 50% !important;
        background: linear-gradient(135deg, #007bff, #0056b3) !important;
        color: white !important;
        border: none !important;
        box-shadow: 0 4px 16px rgba(0, 123, 255, 0.3) !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        font-size: 20px !important;
        z-index: 1035 !important;
        transition: all 0.3s ease !important;
    }
    
    .fab-create-note:hover {
        transform: scale(1.1) !important;
        box-shadow: 0 6px 20px rgba(0, 123, 255, 0.4) !important;
    }
    
    .fab-create-note:active {
        transform: scale(0.95) !important;
    }
    
    .mobile-bottom-nav {
        position: fixed !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        background: rgba(255, 255, 255, 0.98) !important;
        backdrop-filter: blur(15px) !important;
        border-top: 1px solid #e9ecef !important;
        padding: 12px 0 8px 0 !important;
        z-index: 1040 !important;
        display: flex !important;
        justify-content: space-around !important;
        align-items: center !important;
        box-shadow: 0 -2px 15px rgba(0,0,0,0.1) !important;
        min-height: 65px !important;
    }
    
    .mobile-bottom-nav .nav-item {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        padding: 8px 12px !important;
        text-decoration: none !important;
        color: #6c757d !important;
        font-size: 11px !important;
        font-weight: 500 !important;
        border-radius: 10px !important;
        transition: all 0.2s ease !important;
        min-width: 65px !important;
        position: relative !important;
    }
    
    .mobile-bottom-nav .nav-item.active {
        color: #007bff !important;
        background-color: rgba(0, 123, 255, 0.08) !important;
    }
    
    .mobile-bottom-nav .nav-item.active::before {
        content: '';
        position: absolute;
        top: -12px;
        left: 50%;
        transform: translateX(-50%);
        width: 4px;
        height: 4px;
        background: #007bff;
        border-radius: 50%;
    }
    
    .mobile-bottom-nav .nav-item i {
        font-size: 20px !important;
        margin-bottom: 4px !important;
        transition: transform 0.2s ease !important;
    }
    
    .mobile-bottom-nav .nav-item:active {
        transform: scale(0.95) !important;
    }
    
    .mobile-bottom-nav .nav-item:active i {
        transform: scale(1.1) !important;
    }
    
    .note-item-swipeable {
        position: relative !important;
        overflow: hidden !important;
    }
    
    .note-swipe-actions {
        position: absolute !important;
        top: 0 !important;
        right: -100% !important;
        height: 100% !important;
        display: flex !important;
        align-items: center !important;
        background: linear-gradient(90deg, #dc3545, #c82333) !important;
        transition: right 0.3s ease !important;
        padding: 0 20px !important;
        gap: 15px !important;
    }
    
    .note-swipe-actions.active {
        right: 0 !important;
    }
    
    .note-swipe-action {
        color: white !important;
        background: none !important;
        border: none !important;
        font-size: 18px !important;
        padding: 10px !important;
        border-radius: 50% !important;
        width: 40px !important;
        height: 40px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
    }
    
    .pull-to-refresh {
        position: relative !important;
        overflow: hidden !important;
    }
    
    .pull-refresh-indicator {
        position: absolute !important;
        top: -60px !important;
        left: 50% !important;
        transform: translateX(-50%) !important;
        width: 40px !important;
        height: 40px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        background: white !important;
        border-radius: 50% !important;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1) !important;
        transition: top 0.3s ease !important;
    }
    
    .pull-refresh-indicator.active {
        top: 20px !important;
    }
    
    .pull-refresh-spinner {
        width: 20px !important;
        height: 20px !important;
        border: 2px solid #f3f3f3 !important;
        border-top: 2px solid #007bff !important;
        border-radius: 50% !important;
        animation: spin 1s linear infinite !important;
    }
    
    .mobile-toast {
        position: fixed !important;
        top: 20px !important;
        left: 20px !important;
        right: 20px !important;
        background: #333 !important;
        color: white !important;
        padding: 16px !important;
        border-radius: 8px !important;
        z-index: 1060 !important;
        transform: translateY(-100px) !important;
        transition: transform 0.3s ease !important;
        display: flex !important;
        align-items: center !important;
        gap: 12px !important;
    }
    
    .mobile-toast.show {
        transform: translateY(0) !important;
    }
    
    .mobile-toast.success {
        background: #28a745 !important;
    }
    
    .mobile-toast.error {
        background: #dc3545 !important;
    }
    
    .mobile-toast.warning {
        background: #ffc107 !important;
        color: #212529 !important;
    }
    
    .mobile-search-overlay {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        background: white !important;
        z-index: 1055 !important;
        transform: translateY(-100%) !important;
        transition: transform 0.3s ease !important;
        display: flex !important;
        flex-direction: column !important;
    }
    
    .mobile-search-overlay.active {
        transform: translateY(0) !important;
    }
    
    .mobile-search-header {
        padding: 20px !important;
        border-bottom: 1px solid #e9ecef !important;
        display: flex !important;
        align-items: center !important;
        gap: 15px !important;
    }
    
    .mobile-search-input {
        flex: 1 !important;
        border: none !important;
        outline: none !important;
        font-size: 18px !important;
        padding: 10px 0 !important;
    }
    
    .mobile-search-results {
        flex: 1 !important;
        overflow-y: auto !important;
        padding: 20px !important;
    }
    
    .mobile-loading-skeleton {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%) !important;
        background-size: 200% 100% !important;
        animation: loading-shimmer 1.5s infinite !important;
        border-radius: 8px !important;
    }
    
    @keyframes loading-shimmer {
        0% {
            background-position: -200% 0;
        }
        100% {
            background-position: 200% 0;
        }
    }
    
    .skeleton-text {
        height: 16px !important;
        margin-bottom: 10px !important;
    }
    
    .skeleton-text.large {
        height: 24px !important;
    }
    
    .skeleton-text.small {
        height: 12px !important;
        width: 60% !important;
    }
    
    .mobile-scroll-container {
        -webkit-overflow-scrolling: touch !important;
        scroll-behavior: smooth !important;
    }

    .mobile-dropdown {
        position: fixed !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        background: white !important;
        border-radius: 16px 16px 0 0 !important;
        box-shadow: 0 -4px 20px rgba(0,0,0,0.1) !important;
        transform: translateY(100%) !important;
        transition: transform 0.3s ease !important;
        z-index: 1050 !important;
        max-height: 80vh !important;
        overflow-y: auto !important;
    }
    
    .mobile-dropdown.active {
        transform: translateY(0) !important;
    }
    
    .mobile-dropdown-header {
        padding: 20px !important;
        border-bottom: 1px solid #e9ecef !important;
        display: flex !important;
        justify-content: space-between !important;
        align-items: center !important;
    }
    
    .mobile-dropdown-handle {
        width: 40px !important;
        height: 4px !important;
        background: #ccc !important;
        border-radius: 2px !important;
        margin: 0 auto 15px !important;
    }
    
    .haptic-light:active {
        animation: haptic-pulse-light 0.1s ease !important;
    }
    
    .haptic-medium:active {
        animation: haptic-pulse-medium 0.15s ease !important;
    }
    
    .haptic-heavy:active {
        animation: haptic-pulse-heavy 0.2s ease !important;
    }
    
    @keyframes haptic-pulse-light {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(0.98); }
    }
    
    @keyframes haptic-pulse-medium {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(0.95); }
    }
    
    @keyframes haptic-pulse-heavy {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(0.92); }
    }
}

@media (max-width: 768px) {
    .dark-theme .mobile-bottom-nav {
        background: rgba(52, 58, 64, 0.98) !important;
        border-top-color: #495057 !important;
    }
    
    .dark-theme .mobile-bottom-nav .nav-item {
        color: #adb5bd !important;
    }
    
    .dark-theme .mobile-bottom-nav .nav-item.active {
        color: #007bff !important;
        background-color: rgba(0, 123, 255, 0.15) !important;
    }
    
    .dark-theme .mobile-bottom-nav .nav-item.active::before {
        background: #007bff !important;
    }
    
    .dark-theme .mobile-search-overlay {
        background: #343a40 !important;
    }
    
    .dark-theme .mobile-search-header {
        border-bottom-color: #495057 !important;
    }
    
    .dark-theme .mobile-search-input {
        color: #f8f9fa !important;
    }
    
    .dark-theme .mobile-dropdown {
        background: #343a40 !important;
    }
    
    .dark-theme .mobile-dropdown-header {
        border-bottom-color: #495057 !important;
    }
    
    .dark-theme .mobile-loading-skeleton {
        background: linear-gradient(90deg, #495057 25%, #6c757d 50%, #495057 75%) !important;
    }
}

@supports (-webkit-touch-callout: none) {
    .ios-safe-area-top {
        padding-top: env(safe-area-inset-top) !important;
    }
    
    .ios-safe-area-bottom {
        padding-bottom: env(safe-area-inset-bottom) !important;
    }
    
    .ios-safe-area-left {
        padding-left: env(safe-area-inset-left) !important;
    }
    
    .ios-safe-area-right {
        padding-right: env(safe-area-inset-right) !important;
    }
}

@media (max-width: 768px) {
    .mobile-bottom-nav {
        display: grid !important;
        grid-template-columns: repeat(auto-fit, minmax(60px, 1fr)) !important;
        gap: 0 !important;
        max-width: 100% !important;
    }
    
    .mobile-bottom-nav:not(:has(.folders-nav)) {
        grid-template-columns: repeat(4, 1fr) !important;
    }
    
    .mobile-bottom-nav:has(.folders-nav) {
        grid-template-columns: repeat(5, 1fr) !important;
    }
    
    .mobile-bottom-nav .nav-item {
        padding: 8px 4px !important;
        text-align: center !important;
        min-width: 0 !important;
    }
    
    .mobile-bottom-nav .nav-item span {
        font-size: 10px !important;
        line-height: 1.2 !important;
        margin-top: 2px !important;
        word-break: break-word !important;
    }
    
    .mobile-bottom-nav .nav-item i {
        font-size: 16px !important;
        margin-bottom: 2px !important;
    }
    
    .folders-nav.active {
        background: rgba(0, 123, 255, 0.1) !important;
        color: #007bff !important;
    }
}